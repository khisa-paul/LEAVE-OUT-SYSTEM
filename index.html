<!DOCTYPE html>
<html>
<head>
  <title>Friends School Kimugui Girls</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #007BFF; /* Blue header */
      color: white;
      text-align: center;
      padding: 15px;
    }
    header small {
      display: block;
      margin-top: 5px;
      font-size: 14px;
      font-style: italic;
    }
    main {
      padding: 20px;
    }
    input, button {
      margin: 5px 3px;
      padding: 8px;
      font-size: 14px;
    }
    button {
      border: none;
      cursor: pointer;
      color: white;
    }
    #output {
      margin-top: 15px;
      white-space: pre-wrap;
      background: #f0f0f0;
      padding: 10px;
      border-radius: 5px;
    }
    footer {
      background-color: #007BFF; /* Blue footer */
      color: white;
      text-align: center;
      padding: 10px;
      margin-top: 20px;
      font-size: 14px;
    }
    .btn-blue { background-color: #007BFF; }
    .btn-green { background-color: #28a745; }
    .btn-orange { background-color: #fd7e14; }
    .btn-red { background-color: #dc3545; }
    .btn-purple { background-color: #6f42c1; }
    .btn-dark { background-color: #343a40; }

    @media screen and (max-width: 600px) {
      input, button {
        display: block;
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <header>
    <h2>FRIENDS SCHOOL KIMUGUI GIRLS</h2>
    <small>Motto: Strive to Excel</small>
  </header>

  <main>
    <!-- Search at the top -->
    <input type="text" id="searchAdm" placeholder="Search by ADM NO">
    <button class="btn-dark" onclick="searchStudent()">Search</button>
    <button class="btn-red" onclick="logout()">Logout</button>
    <br>

    <!-- Entry fields -->
    <input type="text" id="name" placeholder="Name">
    <input type="text" id="adm" placeholder="ADM NO">
    <input type="text" id="form" placeholder="Form">
    <input type="text" id="reason" placeholder="Reason">
    <input type="text" id="date" placeholder="Date">
    <input type="text" id="parent" placeholder="Parent Contact">
    <input type="text" id="principal" placeholder="Principal Contact">
    <input type="text" id="mod" placeholder="MOD Name">
    <br>

    <!-- Action buttons -->
    <button class="btn-blue" onclick="sendSMS()">SendSMS</button>
    <button class="btn-orange" onclick="printSheet()">Print</button>
    <button class="btn-purple" onclick="generatePDF()">Download</button>
    <button class="btn-green" onclick="saveToSheet()">Save</button>

    <div id="output">Output will appear here...</div>
  </main>

  <footer>
    System by: Paul Makokha. To God be the Glory.<br>
    0708458844 / 0756157756
  </footer>

  <script>
    const SCRIPT_URL = "YOUR_SCRIPT_URL_HERE";

    function searchStudent() {
      const adm = document.getElementById("searchAdm").value.trim();
      if (!adm) {
        alert("Please enter ADM NO to search.");
        return;
      }
      const data = { type: "search", ADM_NO: adm };
      postData(data);
    }

    function logout() {
      alert("You have been logged out!");
      // You can also redirect or clear session data here
    }

    function saveToSheet() {
      const data = {
        type: "save",
        name: document.getElementById("name").value,
        ADM_NO: document.getElementById("adm").value,
        form: document.getElementById("form").value,
        reason: document.getElementById("reason").value,
        date: document.getElementById("date").value,
        parentContact: document.getElementById("parent").value,
        principalContact: document.getElementById("principal").value,
        modName: document.getElementById("mod").value,
        status: "Pending"
      };
      postData(data).then(() => clearForm());
    }

    function clearForm() {
      document.getElementById("name").value = "";
      document.getElementById("adm").value = "";
      document.getElementById("form").value = "";
      document.getElementById("reason").value = "";
      document.getElementById("date").value = "";
      document.getElementById("parent").value = "";
      document.getElementById("principal").value = "";
      document.getElementById("mod").value = "";
    }

    function sendSMS() {
      const data = { type: "sms" };
      postData(data);
    }

    function printSheet() {
      const data = { type: "print" };
      postData(data);
    }

    function generatePDF() {
      const data = { type: "pdf" };
      postData(data);
    }

    async function postData(data) {
      document.getElementById("output").innerText = "Loading...";
      try {
        const res = await fetch(SCRIPT_URL, {
          method: "POST",
          body: JSON.stringify(data)
        });
        const response = await res.json();
        if (response.pdfUrl) {
          document.getElementById("output").innerHTML = `✅ PDF Link: <a href="${response.pdfUrl}" target="_blank">Open PDF</a>`;
        } else {
          document.getElementById("output").innerText = JSON.stringify(response, null, 2);
        }
      } catch (err) {
        document.getElementById("output").innerText = "❌ Error: " + err;
      }
    }
  </script>
</body>
</html>

   



    

 
       
    

   
 
      
     
      
   


    
  
     



      
     
